databaseChangeLog:
- changeSet:
    id: sprint-3-1
    author: YurK
    changes:
    - addColumn:
        tableName: currencies
        column:
            name: update_time
            type: TIMESTAMP WITHOUT TIME ZONE
- changeSet:
    id: sprint-3-2
    author: YurK
    changes:
    - addColumn:
        tableName: cities
        column:
            name: gismeteo_id
            type: INTEGER
- changeSet:
    id: sprint-3-3
    author: YurK
    changes:
    - createTable:
        columns:
        - column:
            autoIncrement: true
            constraints:
                nullable: false
                primaryKey: true
                primaryKeyName: weather_pkey
            name: id
            type: INTEGER
        - column:
            constraints:
                nullable: false
            name: gismeteo_id
            type: INTEGER
        - column:
            constraints:
                nullable: false
            name: temperature
            type: DOUBLE
        - column:
            constraints:
                nullable: false
            name: description
            type: VARCHAR(255)
        - column:
            constraints:
                nullable: false
            name: time
            type: TIMESTAMP WITHOUT TIME ZONE
        tableName: weather
- changeSet:
    id: sprint-3-4
    author: YurK
    changes:
    - createIndex:
        columns:
        - column:
            name: gismeteo_id
        indexName: gismeteo_id_index
        tableName: weather
- changeSet:
    id: sprint-3-5
    author: YurK
    changes:
    - addColumn:
        tableName: cities
        column:
            name: country_id
            type: BIGINT
- changeSet:
    id: sprint-3-6
    author: YurK
    changes:
    - addForeignKeyConstraint:
        baseTableName: cities
        referencedTableName: countries
        baseColumnNames: country_id
        referencedColumnNames: id
        constraintName: country_id_cities_fk
        deferrable: false
        initiallyDeferred: false
        onDelete: NO ACTION
        onUpdate: NO ACTION
        validate: true
- changeSet:
    id:  sprint-3-7
    author:  YurK
    changes:
    - renameColumn:
        columnDataType:  VARCHAR(255)
        newColumnName:  name
        oldColumnName:  title
        tableName:  countries
- changeSet:
    id: sprint-3-8
    author: YurK
    changes:
    - addColumn:
        tableName: countries
        columns:
            - column:
                name: full_name
                type: VARCHAR(255)
            - column:
                name: international_name
                type: VARCHAR(255)
            - column:
                name: code2
                type: VARCHAR(255)
- changeSet:
    id:  sprint-3-9
    author:  YurK
    changes:
    - renameColumn:
        columnDataType:  VARCHAR(255)
        newColumnName:  name
        oldColumnName:  title
        tableName:  cities
- changeSet:
    id: sprint-3-10
    author: YurK
    changes:
    - addColumn:
        tableName: cities
        columns:
        - column:
            name: district
            type: VARCHAR(255)
        - column:
            name: sub_district
            type: VARCHAR(255)
